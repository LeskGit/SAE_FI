
{% macro sidebar_client(name="", endpoint="", li_classes="", a_classes="") %} 
<aside class="bg-light p-4 rounded shadow-sm me-4 version-desktop" style="width: 300px;">
    <div class="d-flex align-items-center mb-4">
        <img src="{{ url_for('static', filename='img/logo_profil.png') }}" alt="Logo profil" class="rounded-circle me-3" style="width: 50px; height: 50px;">
        <p class="pseudo mb-0 fw-bold">
            {% if current_user.is_authenticated %}
                {{ current_user.prenom }}
            {% else %}
                Utilisateur
            {% endif %}
        </p>
    </div>
    <nav>
        <ul class="list-unstyled">
            <a href="{{ url_for('client_profil') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_profil' %}active{% endif %}">
                    <img src="{{ url_for('static', filename='img/logo_profil.png') }}" alt="Logo profil" class="me-2" style="width: 30px;">
                <p class="mb-0">Profil</p>
            </li>
            </a>
            <a href="{{ url_for('client_fidelite') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_fidelite' %}active{% endif %}">
                <img src="{{ url_for('static', filename='img/logo_fidelite.png') }}" alt="Logo fidelite" class="me-2" style="width: 30px;">
                <p class="mb-0">Programme fidélité</p>
            </li>
            </a>
            <a href="{{ url_for('client_historique') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_historique' %}active{% endif %}">
                <img src="{{ url_for('static', filename='img/logo_historique.png') }}" alt="Logo historique" class="me-2" style="width: 30px;">
                <p class="mb-0">Historique des commandes</p>
            </li>
            </a>
        </ul>
    </nav>
</aside>
{% endmacro %}

{% macro mobile_navbar() %}
<!-- Bouton pour ouvrir le menu -->
<button class="btn btn-light bouton-tel" id="menu-toggle">
    <img src="{{ url_for('static', filename='img/depliement_icon.png') }}" alt="Menu" style="width: 20px;">
</button>


<!-- Sidebar mobile -->
<aside id="mobile-menu" class="bg-light p-4 shadow-sm position-fixed top-0 start-0 vh-100 w-75 d-none version-tel">
    <button class="btn btn-close position-absolute top-0 end-0 m-3" id="menu-close"></button>

    <div class="d-flex align-items-center mb-4">
        <img src="{{ url_for('static', filename='img/logo_profil.png') }}" alt="Logo profil" class="rounded-circle me-3" style="width: 50px; height: 50px;">
        <p class="pseudo mb-0 fw-bold">
            {% if current_user.is_authenticated %}
                {{ current_user.prenom }}
            {% else %}
                Utilisateur
            {% endif %}
        </p>
    </div>

    <nav>
        <ul class="list-unstyled">
            <a href="{{ url_for('client_profil') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_profil' %}active{% endif %}">
                    <img src="{{ url_for('static', filename='img/logo_profil.png') }}" alt="Logo profil" class="me-2" style="width: 30px;">
                <p class="mb-0">Profil</p>
            </li>
            </a>
            <a href="{{ url_for('client_fidelite') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_fidelite' %}active{% endif %}">
                <img src="{{ url_for('static', filename='img/logo_fidelite.png') }}" alt="Logo fidelite" class="me-2" style="width: 30px;">
                <p class="mb-0">Programme fidélité</p>
            </li>
            </a>
            <a href="{{ url_for('client_historique') }}" class="d-flex text-decoration-none text-dark">
            <li class="d-flex align-items-center p-1 mb-3 section_effect flex-grow-1 {% if request.endpoint == 'client_historique' %}active{% endif %}">
                <img src="{{ url_for('static', filename='img/logo_historique.png') }}" alt="Logo historique" class="me-2" style="width: 30px;">
                <p class="mb-0">Historique des commandes</p>
            </li>
            </a>
        </ul>
    </nav>
</aside>

<!-- Script pour ouvrir/fermer le menu -->
<script>
    document.getElementById("menu-toggle").addEventListener("click", function () {
        document.getElementById("mobile-menu").classList.remove("d-none");
    });

    document.getElementById("menu-close").addEventListener("click", function () {
        document.getElementById("mobile-menu").classList.add("d-none");
    });
</script>
{% endmacro %}
