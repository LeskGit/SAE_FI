{% extends "base.html" %}

{% block styles %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='profil.css') }}">
{% endblock %}

{% block content %}
<div class="container-fluid d-flex mb-5">
    <!-- Sidebar -->
    {% from "macro_client_aside.html" import sidebar_client with context %}
    {{ sidebar_client() }}

    <div class="p-5 rounded shadow w-100 main_profil">
        <!-- Titre de la page -->
        <h2 class="mb-4"><strong>Mes Points de Fidélité</strong></h2>

        <!-- Message de bienvenue -->
        <p>Bonjour <strong>{{ current_user.prenom }}</strong>, vous avez actuellement <strong>{{ current_user.points_fidelite }}</strong> point(s) de fidélité.</p>

        <!-- Séparateur -->
        <hr>

        <!-- Liste des paliers fictifs -->
        {% set paliers = [
            {'label': '-20% sur les sushis', 'threshold': 30},
            {'label': '-10% sur les plats', 'threshold': 50},
            {'label': '-30% sur les entrées', 'threshold': 80},
            {'label': '-10% sur les boissons', 'threshold': 120},
            {'label': 'Un plat de votre choix offert', 'threshold': 170}
        ] %}

        <h3 class="mt-4">Réductions disponibles</h3>
        <ul>
        {% for palier in paliers %}
            {% if current_user.points_fidelite >= palier.threshold %}
                <li>
                    <strong>{{ palier.label }} ({{ palier.threshold }} points)</strong> :
                    <span style="color: green;">Active</span>
                </li>
            {% else %}
                <li>
                    {{ palier.label }} ({{ palier.threshold }} points) :
                    <span style="color: red;">Inactive</span>
                </li>
            {% endif %}
        {% endfor %}
        </ul>

        <!-- Tu peux ajouter ici d'autres informations, par exemple un bouton pour "échanger mes points" ou "voir comment gagner plus de points", etc. -->

    </div>
</div>
{% endblock %}
